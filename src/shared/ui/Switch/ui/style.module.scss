@import "@/app/styles/mixins", "@/app/styles/media";

.wrapper {
  display: flex;
  align-items: center;
  align-self: start;
  column-gap: var(--gap-small-m);
  cursor: pointer;
  --toggleHeight: var(--button-height-small-m);
  --width: calc(var(--toggleHeight) * 2);
  --translateX: calc(var(--width) - var(--toggleHeight));

  @include hover {
    .hover {
      opacity: 1;
    }
  }
  &:focus-visible {
    .hover {
      opacity: 1;
    }
  }
  @include user-select-off;
}

.toggle-switch {
  height: var(--toggleHeight);
  width: var(--width);
  padding: 3px;
  background-color: var(--color-secondary);
  border-radius: var(--border-radius-middle);
  display: flex;
  box-shadow: var(--box-shadow-primary);
  transition-duration: 0.2s;
}

.switch {
  position: relative;
  height: 100%;
  aspect-ratio: 1;
  border-radius: 50%;
  background-color: var(--color-gray);
  transition-duration: inherit;
  box-shadow: var(--box-shadow-primary);
}

.label {
    &:after {
        content: '*';
        color: var(--color-error);
        display: none;
    }
}

.hover {
  @include hover-effect;
  height: calc(200% + 12px);
}

// Mods
.wrapper {
  &.checked {
    .toggle-switch {
      background-color: var(--color-primary);
      box-shadow: var(--box-shadow-secondary);
    }
    .switch {
      transform: translateX(var(--translateX));
      background-color: var(--color-secondary);
      box-shadow: var(--box-shadow-secondary);
    }
  }

  &.disabled {
    pointer-events: none;
    opacity: var(--opacity-medium);
  }

  &.required {
    .label {
        &:after {
            display: inline;
        }
    }
  }
}

// Sizes
.wrapper {
  &.small {
    column-gap: var(--gap-small-s);
    --toggleHeight: var(--button-height-small-s);
  }
}