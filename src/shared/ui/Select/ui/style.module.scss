@import '@/app/styles/media', '@/app/styles/mixins';

.wrapper {
    --inlinePadding: 15px;
    --smallInlinePadding: calc(var(--inlinePadding) / 2);
    color: var(--color-blue);
    position: relative;

    &.error {
        color: var(--color-red);
    }
    
    &.open {
        .arrow-icon {
            rotate: 180deg;
        }

        .drop-down-menu {
            opacity: 1;
            pointer-events: all;
        }
    }

    &.multi {
        .select {
            padding-left: var(--smallInlinePadding);
            padding-block: var(--smallInlinePadding);
        }
    }

    &.readonly {
        pointer-events: none;
    }

    &.placeholder-hidden {
        .placeholder {
            opacity: 0;
        }
    }
}

.select-wrapper {
    position: relative;
}

.select {
    min-height: var(--button-height);
    background-color: var(--color-light-alt);
    border-radius: var(--border-radius-small);
    box-shadow: var(--box-shadow-small);
    padding-inline: var(--inlinePadding);
    display: flex;
    align-items:center;
    column-gap: 10px;
    cursor: pointer;
    transition-duration: var(--transition-duration);
    
    @include hover {
        background-color: var(--color-light);
        .selected-item {
            box-shadow: 1px 1px 0px 0px currentColor;
        }
    }
}

.label {
    position: absolute;
    pointer-events: none;
    left: var(--inlinePadding);

    &__require {
        color: var(--color-red);
    }
}

.placeholder {
    left: var(--inlinePadding);
    position: absolute;
    pointer-events: none;
    top: 50%;
    translate: 0 -50%;
    opacity: 0.5;
    transition-duration: 0.1s;
}

.error-message {
    color: var(--color-red);
    font-size: 0.7em;
    padding-left: var(--inlinePadding);
    margin-top: 8px;
  }

.arrow-icon {
    transition-duration: var(--transition-duration);
    display: inline-flex;
    margin-left: auto;
}

.drop-down-menu {
    background-color: var(--color-light-alt);
    border-radius: var(--border-radius-small);
    box-shadow: var(--box-shadow-small);
    position: absolute;
    z-index: 1000;
    width: 100%;
    max-height: calc(var(--button-height) * 4);
    overflow-y: auto;
    margin-top: 5px;
    opacity: 0;
    pointer-events: none;
    transition-duration: var(--transition-duration);

    &__list {
        display: flex;
        flex-direction: column;  
    }

    &__item {
        height: var(--button-height);
        display: flex;
        align-items: center;
        padding-inline: var(--inlinePadding);
        transition-duration: var(--transition-duration);
        cursor: pointer;

        &.selected {
            background-color: var(--color-light);
            opacity: 0.5;
            pointer-events: none;
        }

        @include hover {
            background-color: var(--color-light);
        }
    }
}

.selected-items-list {
    display: flex;
    column-gap: var(--smallInlinePadding);
    flex-wrap: wrap;
    row-gap: var(--smallInlinePadding);
}

.selected-item {
    background-color: var(--color-light);
    padding: var(--smallInlinePadding);
    border-radius: var(--border-radius-small);
    display: flex;
    align-items: center;
    column-gap: var(--smallInlinePadding);
    transition-duration: var(--transition-duration);
}

// Theme
.wrapper {
    &.label-placeholder {
        .label {
			top: 50%;
			translate: 0 -50%;
			opacity: 0.5;
			transition-duration: var(--transition-duration);
        }

        &.dirty {
            .label {
                    translate: 0;
                    top: -1.7em;
                    font-size: 0.8em;
                    opacity: 0.8;
            }
        }
    }

    &.label-static {
        .label {
            top: -1.7em;
            font-size: 0.8em;
            opacity: 0.8;
        }
    }

    &.label-none {
        .label {
            @include visually-hidden;
        }
    }
}
